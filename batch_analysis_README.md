# 区块链安全分析批处理工具

这个工具集允许您批量分析CSV文件中的区块链地址和日期。

## 文件说明

1. `batch_analyze.py` - 独立的批处理脚本，通过子进程调用main.py
2. `create_main_batch.py` - 辅助脚本，用于创建完整的main_batch.py
3. `whole_pipeline/src/main_batch.py` - 基于main.py修改的批处理版本

## 运行方法

### 方法一：使用独立批处理脚本（推荐）

这种方法不需要修改原始代码：

```bash
# 安装依赖
pip install pandas tqdm

# 运行批处理脚本
python batch_analyze.py rugpullevent_1.csv [起始行] [结束行] [休眠时间]
```


## 参数说明

* `rugpullevent_1.csv` - 包含待分析地址的CSV文件。必须包含'Address'和'Date'列。
* `起始行` - 可选参数，默认为0，从哪一行开始处理（基于0的索引）
* `结束行` - 可选参数，默认为文件末尾，处理到哪一行结束
* `休眠时间` - 可选参数，默认为5秒，每次分析之间的等待时间

## CSV文件格式

CSV文件必须包含以下列：
1. `Address` - 要分析的区块链地址
2. `Date` - 交易日期

示例：
```
Address,Date
0x123abc...,2023/05/15
0x456def...,2023/06/21
```

## 输出文件

每次分析都会生成以下文件：

1. 使用独立批处理脚本：
   - `output_[地址]_[日期].log` - 包含程序的完整输出

2. 使用集成批处理版本：
   - `output_[地址]_[日期]_params.json` - 分析参数
   - `output_[地址]_[日期]_report.txt` - 分析报告

此外，所有批处理活动都会记录在以下日志文件中：
- `batch_analyze.log` - 独立批处理的日志
- `batch_main.log` - 集成批处理的日志

## 故障排除

1. 如果分析过程中断，您可以通过指定起始行参数继续处理
2. 如果遇到API限制，尝试增加休眠时间
3. 检查日志文件中的错误信息

## 注意事项

- 批处理过程可能需要很长时间，尤其是处理大量地址时
- 确保系统有足够的内存和磁盘空间
- 如果使用外部API，注意API使用限制 